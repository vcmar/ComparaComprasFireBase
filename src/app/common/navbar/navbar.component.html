<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
  <div class="navbar-header">
    <button
      class="navbar-left navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarsDefault"
      aria-controls="navbarsDefault"
      aria-expanded="false"
      aria-label="Toggle navigation"
      (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <a
      (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
      class="navbar-brand"
      style="margin-left: 0.5rem;"
      routerLink="/home"
      >Compara Compras</a
    >
  </div>
  <div
    [ngbCollapse]="isMenuCollapsed"
    class="collapse navbar-collapse"
    id="navbarsDefault"
  >
    <ul class="navbar-nav mr-auto">
      <ng-container *ngIf="currentUser">
        <li routerLinkActive="active" class="nav-item">
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            class="nav-link"
            routerLink="/user/dashboard"
            ><fa-icon [icon]="faCompras"></fa-icon> Minhas Compras
          </a>
        </li>
        <li routerLinkActive="active" class="nav-item">
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            class="nav-link"
            routerLink="/user/places"
            ><fa-icon [icon]="faMercados"></fa-icon> Mercados</a
          >
        </li>
        <li routerLinkActive="active" class="nav-item">
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            class="nav-link"
            routerLink="/user/products"
            ><fa-icon [icon]="faProdutos"></fa-icon> Produtos</a
          >
        </li>
        <li routerLinkActive="active" class="nav-item">
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            class="nav-link"
            routerLink="/about"
            ><fa-icon [icon]="faInfo"></fa-icon> Sobre...</a
          >
        </li>
      </ng-container>
      <li
        *ngIf="currentUser && currentUser.isAdmin"
        ngbDropdown
        class="nav-item dropdown"
      >
        <a
          ngbDropdownToggle
          class="nav-link dropdown-toggle"
          id="dropdown01"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
          ><fa-icon [icon]="faAdmin"></fa-icon> Administração</a
        >

        <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            routerLinkActive="active"
            class="dropdown-item"
            routerLink="/admin/categories"
            ><fa-icon [icon]="faCategory"></fa-icon>Categorias</a
          >
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            routerLinkActive="active"
            class="dropdown-item"
            routerLink="/admin/packages"
            ><fa-icon [icon]="faPackage"></fa-icon>Embalagens</a
          >
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            routerLinkActive="active"
            class="dropdown-item"
            routerLink="/admin/brands"
            ><fa-icon [icon]="faBrand"></fa-icon> Marcas</a
          >
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            routerLinkActive="active"
            class="dropdown-item"
            routerLink="/admin/products"
            ><fa-icon [icon]="faProdutos"></fa-icon>Produtos</a
          >
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            routerLinkActive="active"
            class="dropdown-item"
            routerLink="/admin/places"
            ><fa-icon [icon]="faMercados"></fa-icon>Mercados</a
          >
          <a
            (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
            routerLinkActive="active"
            class="dropdown-item"
            routerLink="/admin/users"
            ><fa-icon [icon]="faUserList"></fa-icon>Usuários</a
          >
        </div>
      </li>
    </ul>

    <ul class="navbar-nav" style="margin-right: 1rem;">
      <li *ngIf="!currentUser" routerLinkActive="active" class="nav-item">
        <a
          (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
          class="nav-link"
          routerLink="/login"
          ><fa-icon [icon]="faLogin"></fa-icon>Login</a
        >
      </li>
      <li *ngIf="currentUser" class="nav-item nav-link active">
        <fa-icon [icon]="faUser"></fa-icon> Olá, {{ currentUser.displayName }}
      </li>
      <li *ngIf="currentUser" class="nav-item">
        <a
          (click)="isMenuCollapsed = isMenuCollapsed ? false : true"
          class="nav-link"
          (click)="logout()"
          ><fa-icon [icon]="faLogout"></fa-icon>Logout</a
        >
      </li>
    </ul>
  </div>
</nav>
